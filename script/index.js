const product = [
    {
        id: 1,
        logoImg: '1_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        newprice: 7000,
        oldprice: 8000,
        otziv: '(12) отзывов',
        details: 'Дверной Замок Golden Soft для отеля',
        start: 3,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 2,
        logoImg: '2_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star.png',
        imgstart4: 'A star.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        otziv: '(12) отзывов',
        newprice: 33000,
        oldprice: 30000,
        details: 'Дверной Замок Golden Soft для отеля',
        start: 4,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 3,
        logoImg: '3_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star.png',
        imgstart4: 'A star.png',
        imgstart5: 'A star.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        otziv: '(12) отзывов',
        newprice: 9000,
        oldprice: 12000,
        details: 'Дверной Замок Golden Soft для отеля',
        start: 5,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 4,
        logoImg: '1_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star no color.png',
        imgstart3: 'A star no color.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        newprice: 12000,
        oldprice: 15000,
        otziv: '(12) отзывов',
        details: 'Дверной Замок Golden Soft для отеля',
        start: 1,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 5,
        logoImg: '2_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        otziv: '(12) отзывов',
        newprice: 3000,
        oldprice: 5000,
        details: 'Дверной Замок Golden Soft для отеля',
        start: 3,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 6,
        logoImg: '3_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star no color.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        otziv: '(12) отзывов',
        newprice: 16000,
        oldprice: 18000,
        details: 'Дверной Замок Golden Soft для отеля',
        start: 2,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 7,
        logoImg: '1_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star no color.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        newprice: 6000,
        oldprice: 8000,
        otziv: '(12) отзывов',
        details: 'Дверной Замок Golden Soft для отеля',
        start: 2,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 8,
        logoImg: '2_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        otziv: '(12) отзывов',
        newprice: 28000,
        oldprice: 30000,
        details: 'Дверной Замок Golden Soft для отеля',
        start: 3,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 9,
        logoImg: '3_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star no color.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        otziv: '(12) отзывов',
        newprice: 9000,
        oldprice: 12000,
        details: 'Дверной Замок Golden Soft для отеля',
        start: 2,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 10,
        logoImg: '1_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star no color.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        newprice: 17000,
        oldprice: 20000,
        otziv: '(12) отзывов',
        details: 'Дверной Замок Golden Soft для отеля',
        start: 2,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'        
    },
    {
        id: 11,
        logoImg: '2_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        otziv: '(12) отзывов',
        newprice: 23000,
        oldprice: 25000,
        details: 'Дверной Замок Golden Soft для отеля',
        start: 3,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
    {
        id: 12,
        logoImg: '3_img.png',
        imgstart1: 'A star.png',
        imgstart2: 'A star.png',
        imgstart3: 'A star.png',
        imgstart4: 'A star no color.png',
        imgstart5: 'A star no color.png',
        vektorBackImg: 'Vector-back.png',
        podarok: 'podarok.png',
        otziv: '(12) отзывов',
        newprice: 19000,
        oldprice: 21000,
        details: 'Дверной Замок Golden Soft для отеля',
        start: 3,
        backImg: 'back_img.png',
        prizPodarok: 'podarok_1.png'
    },
];

const fourProduct = [
    {
        logoImg1: '4_img.png',
        details: 'Дверной Замок Golden Soft для отеля',
        newprice: 33000,
        oldprice: 37000,
        backImg: 'back_img.png',
        podarokImg: 'priz.png'
    },
    {
        logoImg1: '5_img.png',
        details: 'Вариативный замок Golden soft для отеля',
        newprice: 7000,
        oldprice: 8000,
        backImg: 'back_img.png',
        podarokImg: 'priz.png'
    },
    {
        logoImg1: '6_img.png',
        details: 'Дверной Замок Golden Soft для офиса',
        newprice: 33000,
        oldprice: 39000,
        backImg: 'back_img.png',
        podarokImg: 'priz.png'
    },
    {
        logoImg1: '7_img.png',
        details: 'Дверной Замок Golden Soft для офиса',
        newprice: 9000,
        oldprice: 12000,
        backImg: 'back_img.png',
        podarokImg: 'priz.png'
    },
];

const card1 = document.querySelector('.card1');
const card2 = document.querySelector('#card2');
const sort = document.querySelector('#sort');
const input_low = document.querySelector('#lownumber');
const input_high = document.querySelector('#highnumber');
const inputFilterPrice = document.querySelectorAll('text_item strong')

function renderProduct(product) {
    const card_item1 = document.createElement('div');
    const ruchka_png = document.createElement('img');
    const text_item = document.createElement('div');
    const text_item_img1 = document.createElement('img');
    const text_item_img2 = document.createElement('img');
    const text_item_img3 = document.createElement('img');
    const text_item_img4 = document.createElement('img');
    const text_item_img5 = document.createElement('img');
    const spanEl = document.createElement('span');
    const pEL = document.createElement('p');
    const strongEl = document.createElement('strong');
    const delEl = document.createElement('del');
    const absolyut_a_1 = document.createElement('a');
    const absolyut_div = document.createElement('div');
    const absolyut_img = document.createElement('img');
    const absolyut_span = document.createElement('span');
    const podarokDiv = document.createElement('div');
    const podarokImg = document.createElement('img');
    const podarokSpan = document.createElement('span');



    card_item1.classList.add('card_item1');
    ruchka_png.classList.add('ruchka_png');
    text_item.classList.add('text_item');
    absolyut_a_1.classList.add('absolyut_a_1');
    absolyut_div.classList.add('absolyut_div');
    podarokDiv.classList.add('podarokDiv')



    ruchka_png.setAttribute('src', `../img/${product.logoImg}`);
    text_item_img1.setAttribute('src', `../img/${product.imgstart1}`);
    text_item_img2.setAttribute('src', `../img/${product.imgstart2}`);
    text_item_img3.setAttribute('src', `../img/${product.imgstart3}`);
    text_item_img4.setAttribute('src', `../img/${product.imgstart4}`);
    text_item_img5.setAttribute('src', `../img/${product.imgstart5}`);
    absolyut_img.setAttribute('src', `../img/${product.backImg}`);
    podarokImg.setAttribute('src', `../img/${product.prizPodarok}`)


    spanEl.innerHTML = product.otziv;
    pEL.innerHTML = product.details;
    strongEl.innerHTML = `${product.newprice}₽`;
    delEl.innerHTML = `${product.oldprice}₽`;
    absolyut_a_1.innerHTML = 'SALE';
    absolyut_span.innerHTML = 'Нет в наличии';
    podarokSpan.innerHTML = 'Подарок';

    absolyut_a_1.setAttribute('data-id', product.id);


    podarokDiv.appendChild(podarokImg);
    podarokDiv.appendChild(podarokSpan);
    text_item.appendChild(podarokDiv);
    absolyut_div.appendChild(absolyut_img);
    absolyut_div.appendChild(absolyut_span);
    text_item.appendChild(absolyut_div);
    text_item.appendChild(text_item_img1);
    text_item.appendChild(text_item_img2);
    text_item.appendChild(text_item_img3);
    text_item.appendChild(text_item_img4);
    text_item.appendChild(text_item_img5);
    text_item.appendChild(spanEl);
    text_item.appendChild(pEL);
    text_item.appendChild(strongEl);
    text_item.appendChild(delEl);
    text_item.appendChild(absolyut_a_1);

    card_item1.appendChild(ruchka_png);
    card_item1.appendChild(text_item);

    card1.appendChild(card_item1)
};

function renderProductFour(element) {
    const divEl = document.createElement('div');
    const imgEl = document.createElement('img');
    const divEl1 = document.createElement('div');
    const pEl1 = document.createElement('p');
    const strongEl = document.createElement('strong');
    const delEl = document.createElement('del');
    const aEl = document.createElement('a');
    const divEl2 = document.createElement('div');
    const imgEl2 = document.createElement('img');
    const spanEl2 = document.createElement('span');
    const divEl3 = document.createElement('div');
    const imgEl3 = document.createElement('img');
    const spanEl3 = document.createElement('span');

    imgEl.setAttribute('src', `../img/${element.logoImg1}`);
    divEl2.classList.add('back_div');
    divEl3.classList.add('priz_div')

    pEl1.innerHTML = element.details;
    strongEl.innerHTML = `${element.newprice}₽`;
    delEl.innerHTML = `${element.oldprice}₽`;
    aEl.innerHTML = 'SALE';
    imgEl2.setAttribute('src', `../img/${element.backImg}`);
    spanEl2.innerHTML = 'Нет в наличии';
    imgEl3.setAttribute('src', `../img/${element.podarokImg}`);
    spanEl3.innerHTML = 'Подарок';


    divEl3.appendChild(imgEl3);
    divEl3.appendChild(spanEl3);
    divEl2.appendChild(imgEl2);
    divEl2.appendChild(spanEl2);
    divEl1.appendChild(divEl2)
    divEl1.appendChild(pEl1);
    divEl1.appendChild(strongEl);
    divEl1.appendChild(delEl);
    divEl1.appendChild(aEl);
    divEl1.appendChild(divEl3);

    divEl.appendChild(imgEl);
    divEl.appendChild(divEl1);
    card2.appendChild(divEl)
}


function getProducts(arr) {
    card1.innerHTML = '';
    arr.forEach(element => {
        renderProduct(element)
    });
};

getProducts(product);

function getProductsFour(arr) {
    arr.forEach(element => {
        renderProductFour(element);
    });
};

getProductsFour(fourProduct);


card1.addEventListener('click', (event) => {
    const selectProduct = product.find(element => element.id === +event.target.dataset.id);
    const stringfProduct = JSON.stringify(selectProduct);
    localStorage.setItem('product', stringfProduct);
    event.target.setAttribute('href', '/html/product.html')
})


function input_filter(event) {
    const lowValue = input_low.value;
    const highValue = input_high.value;
    const searchValue = product.forEach(element => {
        const searchProduct = product.filter(el => el.newprice == lowValue || el.newprice == highValue);
        getProducts(searchProduct)
    });
}


sort.addEventListener('change', (event) => {
    const sortValue = event.target.value;
    if(sortValue === 'all'){
        getProducts(product);
    }else{
        if(sortValue === 'a1'){
            const sortedProduct = product.sort((a, b) => {
                if(b.start < a.start) {
                    return 1;
                }
                if(b.start > a.start){
                    return -1;
                }
                return 0;
            });
            getProducts(sortedProduct)
        }
        if(sortValue === 'a5'){
            const sortedProduct = product.sort((a, b) => {
                if(b.start > a.start) {
                    return 1;
                }
                if(b.start < a.start){
                    return -1;
                }
                return 0;
            });
            getProducts(sortedProduct)
        }
        if(sortValue === 'dorogoy'){
            const sortedProduct = product.sort((a, b) => {
                if(b.newprice > a.newprice) {
                    return 1;
                }
                if(b.newprice < a.newprice){
                    return -1;
                }
                return 0;
            });
            getProducts(sortedProduct)
        }
        if(sortValue === 'deweviy'){
            const sortedProduct = product.sort((a, b) => {
                if(b.newprice < a.newprice) {
                    return 1;
                }
                if(b.newprice > a.newprice){
                    return -1;
                }
                return 0;
            });
            getProducts(sortedProduct)
        }
    }
})